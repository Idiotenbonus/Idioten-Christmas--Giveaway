<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idiotenbonnus - Deine Exklusiven Promos von uns!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* NEUES DESIGN: Modern Liquid Glass (Blue/Cyan) */
        :root {
            --primary-blue: #38BDF8; /* Akzentfarbe: Cyan/Lichtblau */
            --background-dark: #1A202C; /* Hintergrund: Dunkelgrau/Navy */
            --glass-bg: rgba(255, 255, 255, 0.08); /* Sehr dezentes, helles Glas */
            --christmas-red: #E74C3C; /* Subtiler Weihnachts-Akzent */
            --christmas-gold: #F1C40F; /* Subtiler Gold-Akzent */
        }
        
        body {
            font-family: 'Inter', sans-serif;
            /* Hintergrund: Dunkler, tiefblauer Gradient */
            background: linear-gradient(135deg, #1A202C 0%, #2C3E50 80%, #1A202C 100%);
            min-height: 100vh;
            color: #EAEAEA;
        }

        /* Glassmorphismus / Liquid Glass Effekt */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px); /* St√§rkere Unsch√§rfe f√ºr mehr Effekt */
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            box-shadow: 0 10px 40px 0 rgba(0, 0, 0, 0.4);
        }
        
        /* NEU: KLEINE GLASS BOX F√úR BONUS-INFOS */
        .mini-glass-box {
            background: rgba(255, 255, 255, 0.08); /* Wie Glass Card, aber leichter */
            border-radius: 0.5rem;
            padding: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: background 0.2s;
        }
        .mini-glass-box:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Sticky Header */
        .sticky-header {
            position: sticky;
            top: 0;
            z-index: 50;
        }

        /* Hover-Effekte f√ºr Buttons */
        .btn-primary {
            background-color: var(--primary-blue);
            color: var(--background-dark);
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
        }
        .btn-primary:hover {
            background-color: #06B6D4; /* Dunkleres Cyan */
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(56, 189, 248, 0.5);
        }
        
        /* Akzente */
        .text-accent {
            color: var(--primary-blue);
            text-shadow: 0 0 5px rgba(56, 189, 248, 0.5);
        }
        
        /* Footer Styling */
        footer {
            background: rgba(0, 0, 0, 0.2);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        /* Age Gate Modal Styling */
        #age-gate-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 100;
        }

        /* Page Back Button Styling */
        .back-button {
            transition: transform 0.2s;
        }
        .back-button:hover {
            transform: translateX(-5px);
        }
        
        /* Korrektur f√ºr Body-Hide, bis das Age-Gate best√§tigt ist */
        .hidden-until-verified {
            overflow: hidden; /* Verhindert Scrollen */
        }
        .hidden-until-verified #main-content, 
        .hidden-until-verified #admin-panel,
        .hidden-until-verified #login-modal {
            display: none !important;
        }
    </style>

    <style>
        /* Responsive Anpassungen */
        @media (max-width: 768px) {
            .glass-card {
                border-radius: 0.75rem;
            }
            .casino-logo {
                width: 4rem;
                height: 4rem;
            }
            .casino-grid-area {
                grid-template-columns: 1fr;
            }
            .admin-tab {
                font-size: 0.9rem;
                padding: 0.5rem 0.75rem;
            }
            .admin-tab-container {
                flex-wrap: wrap;
                gap: 8px;
            }
        }
        
        body { font-family: 'Inter', sans-serif; }
        
        /* Stil f√ºr den Backoffice-Button */
        #admin-toggle {
            color: #d1d5db;
            text-decoration: none;
            transition: color 0.2s;
        }
        #admin-toggle:hover {
            color: #f9fafb;
        }
        
        /* NEU: AKTIVER HEADER-LINK */
        .nav-btn.active-page {
            color: var(--primary-blue);
            text-shadow: 0 0 8px rgba(56, 189, 248, 0.8);
            border-bottom: 2px solid var(--primary-blue);
            padding-bottom: 4px; /* Abstand zum Rand des Headers */
        }
        .nav-btn:not(.active-page) {
            color: #EAEAEA; /* Standardfarbe */
        }


        /* WICHTIG: ADMIN PANEL FIX: √úberdeckt die gesamte Seite, inklusive Header */
        #admin-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 60; /* H√∂her als der Haupt-Header (z-50) und Login Modal (z-50) */
            overflow-y: auto;
            /* Der 'hidden' Status wird weiterhin durch die JS-Logik gesteuert */
        }

        /* Stil f√ºr das Admin-Login-Modal */
        #login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            z-index: 70; /* √úber dem Admin-Panel */
        }
        /* ADMIN PANEL LAYOUT FIX */
        .admin-input {
            background: #2D3748; /* Dunkleres Feld f√ºr besseren Kontrast */
            border: 1px solid #4A5568;
            color: #EAEAEA;
        }
        .admin-input:focus {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.5);
        }
        .admin-tab.active {
            color: var(--primary-blue);
            border-bottom: 2px solid var(--primary-blue);
        }
        
        /* NEU: Drag and Drop Area */
        .drag-drop-area {
            border: 2px dashed #4A5568;
            background-color: rgba(255, 255, 255, 0.05);
            transition: border-color 0.3s, background-color 0.3s;
        }
        .drag-drop-area:hover, .drag-drop-area.dragover {
            border-color: var(--primary-blue);
            background-color: rgba(56, 189, 248, 0.1);
        }
    </style>


</head>
<body class="hidden-until-verified">

<div id="age-gate-modal" class="hidden flex items-center justify-center p-4">
    <div class="glass-card p-8 sm:p-12 max-w-lg w-full text-center border-christmas-red border-l-4">
        <h2 class="text-3xl sm:text-4xl font-extrabold mb-4 text-christmas-red">‚ö†Ô∏è Alters√ºberpr√ºfung (18+)</h2>
        <p class="text-lg mb-6 text-white/90">
            Diese Webseite enth√§lt Infos √ºber Gl√ºcksspiel. Bitte best√§tige, dass <span class="font-bold">Du</span> mindestens 18 Jahre alt bist.
        </p>
        <p class="text-sm mb-8 text-white/60">
            Gl√ºcksspiel kann s√ºchtig machen. Spiele verantwortungsvoll.
        </p>
        <div class="space-y-4">
            <button id="confirm-age-btn" class="btn-primary w-full px-6 py-3 rounded-lg font-bold shadow-xl text-lg">
                ‚úÖ Ich bin 18+ und stimme zu
            </button>
            <button onclick="denyAccess()" class="bg-red-700 hover:bg-red-800 text-white w-full px-6 py-3 rounded-lg font-bold transition-colors">
                ‚ùå Ich bin j√ºnger als 18
            </button>
        </div>
        <p class="mt-6 text-xs text-white/50">
            Hilfe bei Spielsucht: <a href="https://www.bioeg.de/service/infotelefone/gluecksspielsucht/" target="_blank" class="text-accent hover:underline">https://www.bioeg.de/service/infotelefone/gluecksspielsucht/</a>
        </p>
    </div>
</div>
<div id="main-content" class="min-h-screen flex flex-col hidden">

    <header class="sticky-header glass-card !rounded-none">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
            
            <button onclick="navigate('bonus-page')" 
                    class="text-xl sm:text-2xl font-extrabold text-accent tracking-tighter hover:opacity-80 transition-opacity flex-shrink-0 mr-4">
                Idiotenbonnus
            </button>
            
            <nav class="space-x-3 sm:space-x-4 md:space-x-6 flex items-center flex-shrink-0">
                <button onclick="navigate('bonus-page')" class="nav-btn text-sm sm:text-lg font-semibold hover:text-accent transition-colors" data-page="bonus-page">Bonis</button>
                <button onclick="navigate('leaderboard-page')" class="nav-btn text-sm sm:text-lg font-semibold hover:text-accent transition-colors" data-page="leaderboard-page">Leaderboard</button> 
                <button onclick="navigate('support-page')" class="nav-btn text-sm sm:text-lg font-semibold hover:text-accent transition-colors" data-page="support-page">Support</button>
            </nav>
        </div>
    </header>


    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-10">

        <section id="bonus-page" class="page-section">
            
            <div class="glass-card p-5 md:p-10 mb-8 md:mb-12 flex flex-col md:flex-row-reverse items-center space-y-4 md:space-y-0 md:space-x-12 md:space-x-reverse text-center md:text-left">
                
                <img src="logo.jpg" onerror="this.onerror=null;this.src='https://placehold.co/150x150/06B6D4/FFFFFF?text=TRIO';" alt="Idiotenbonnus Trio Logo" class="rounded-full w-24 h-24 md:w-40 md:h-40 border-4 border-accent shadow-xl flex-shrink-0">
                
                <div class="flex-grow">
                    <h2 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold mb-2 leading-tight">
                        Willkommen im <span class="text-accent">Idiotenbonus</span>-Hub! Deine Promos, direkt von uns.
                    </h2>
                    <p class="text-lg sm:text-xl font-medium text-white/90">
                        Wir haben die hei√üesten Promos & Codes exklusiv f√ºr Dich verhandelt. Bei uns bist Du richtig! üëá
                    </p>
                </div>
            </div>

            <div id="contest-banner" class="glass-card p-4 sm:p-6 mb-8 md:mb-12 border-l-8 border-christmas-red flex flex-col md:flex-row justify-between items-center space-y-3 md:space-y-0 md:space-x-6 text-center md:text-left">
                <div class="flex items-center space-x-3">
                    <span class="text-3xl sm:text-5xl animate-pulse text-christmas-red">üéÅ</span>
                    <p class="text-lg sm:text-2xl font-bold text-white">
                        üö® <span class="text-christmas-red">2000‚Ç¨ Weihnachtsgeschenk Gewinnspiel</span> l√§uft jetzt f√ºr Dich!
                    </p>
                </div>
                <button onclick="navigate('contest-page')" class="btn-primary px-5 py-2 md:px-6 md:py-3 rounded-full font-bold shadow-xl whitespace-nowrap text-sm md:text-base w-full md:w-auto">
                    Alle Infos & Teilnahme
                </button>
            </div>

            <h3 class="text-2xl sm:text-3xl font-bold mb-5 text-accent">üî• Unsere Top Casino Empfehlungen f√ºr Dich</h3>

            <div id="filter-container" class="sticky top-[60px] sm:top-[76px] z-40 mb-6 p-3 glass-card flex flex-wrap gap-2">
                <label class="text-base font-semibold mr-1 flex-shrink-0">Filter f√ºr Dich:</label>
                <button class="filter-btn bg-primary-blue text-black px-3 py-1.5 rounded-full font-medium transition-colors text-sm" data-filter="all">Alle</button>
                <button class="filter-btn bg-white/10 px-3 py-1.5 rounded-full font-medium text-white hover:bg-primary-blue/50 transition-colors text-sm" data-filter="Sticky">Sticky</button>
                <button class="filter-btn bg-white/10 px-3 py-1.5 rounded-full font-medium text-white hover:bg-primary-blue/50 transition-colors text-sm" data-filter="Non-Sticky">Non-Sticky</button>
                <button class="filter-btn bg-white/10 px-3 py-1.5 rounded-full font-medium text-white hover:bg-primary-blue/50 transition-colors text-sm" data-filter="Special">VIP</button>
            </div>
            
            <div id="casino-list" class="grid gap-4 sm:gap-6">
                </div>

        </section>

        <section id="contest-page" class="page-section hidden">
            <button onclick="navigate('bonus-page')" class="back-button flex items-center space-x-2 text-accent text-lg font-semibold mb-6">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                <span>Zur√ºck zur Bonus-√úbersicht</span>
            </button>

            <h2 class="text-3xl sm:text-5xl font-extrabold text-christmas-red mb-6 sm:mb-8 text-center">üéÅ Das Idiotenbonnus 2000‚Ç¨ Weihnachts-Gewinnspiel f√ºr Dich!</h2>
            <div class="glass-card p-5 md:p-10 space-y-6">
                
                <div class="text-center mb-6">
                    <h3 class="text-2xl sm:text-4xl font-extrabold text-christmas-red mb-4 tracking-wide">üèÜ Hauptpreise des Gewinnspiels von uns üèÜ</h3>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-6 max-w-3xl mx-auto">
                        
                        <div class="glass-card p-3 sm:p-6 border-2 border-white/30 hover:border-white transition-all transform hover:scale-[1.03]">
                            <p class="text-base sm:text-xl font-bold text-white/80 mb-1">ü•à 2. Platz</p>
                            <p class="text-2xl sm:text-4xl font-extrabold text-white">500‚Ç¨</p>
                        </div>
                        
                        <div class="glass-card p-4 sm:p-8 border-4 border-primary-blue shadow-2xl shadow-primary-blue/50 transform scale-105 hover:scale-110 transition-all z-10">
                            <p class="text-lg sm:text-2xl font-extrabold text-christmas-gold mb-1">ü•á 1. Platz</p>
                            <p class="text-3xl sm:text-5xl font-black text-accent drop-shadow-lg">1.000‚Ç¨</p>
                        </div>
                        
                        <div class="glass-card p-3 sm:p-6 border-2 border-white/30 hover:border-white transition-all transform hover:scale-[1.03]">
                            <p class="text-base sm:text-xl font-bold text-white/80 mb-1">3. - 7. Platz</p>
                            <p class="text-2xl sm:text-4xl font-extrabold text-white/70">5 x 100‚Ç¨</p>
                        </div>
                    </div>
                    
                    <p class="mt-6 text-lg sm:text-xl font-bold text-white/90">Gesamter Preispool: <span class="text-christmas-red text-xl sm:text-2xl font-extrabold">2.000‚Ç¨!</span></p>
                </div>

                <h3 class="text-2xl sm:text-3xl font-bold text-accent border-b border-white/20 pb-2">So sicherst Du Dir Deine Tickets f√ºr das Weihnachts-Gewinnspiel:</h3>
                
                <div class="space-y-4 sm:space-y-6">
                    <div class="glass-card p-4 border-l-4 border-primary-blue">
                        <h4 class="text-xl font-bold text-primary-blue mb-1">1. F√ºr unsere Stammkunden:</h4>
                        <p class="text-base sm:text-lg text-white/90">
                            ‚Üí <span class="font-extrabold">1 Ticket pro 10‚Ç¨ Einzahlung</span> bei den teilnehmenden Casinos.
                        </p>
                        <p class="text-sm text-white/60">(Beispiel: 100‚Ç¨ Einzahlung = 10 Tickets)</p>
                    </div>

                    <div class="glass-card p-4 border-l-4 border-primary-blue">
                        <h4 class="text-xl font-bold text-primary-blue mb-1">2. F√ºr unsere Neuzug√§nge:</h4>
                        <p class="text-base sm:text-lg text-white/90">
                            ‚Üí <span class="font-extrabold">5√ó Tickets extra</span> bei Deiner ersten Einzahlung √ºber unseren Link.
                        </p>
                        <p class="text-sm text-white/60">(Beispiel: 100‚Ç¨ Einzahlung = 10 Tickets (Basis) + 50 Tickets (Neukunde-Bonus) = 60 Tickets)</p>
                    </div>
                    
                    <div class="glass-card p-4 border-l-4 border-primary-blue">
                        <h4 class="text-xl font-bold text-primary-blue mb-1">3. Deine Chancen verbessern:</h4>
                        <p class="text-base sm:text-lg text-white/90">
                            ‚Üí <span class="font-extrabold">+10 Tickets</span> f√ºr das Reposten unseres Gewinnspiel-Posts in Deiner Instagram Story - ohne eine Einzahlung.
                        </p>
                    </div>
                </div>

                <div class="pt-4 text-center border-t border-white/20">
                    <p class="text-base sm:text-lg font-bold text-white mb-2">G√ºltigkeitszeitraum: <span class="text-christmas-red">01. ‚Äì 24. Dezember (23:59 Uhr)</span></p>
                    <p class="text-base sm:text-lg font-bold text-white">Gewinner-Bekanntgabe: <span class="text-christmas-red">25. Dezember auf Instagram & Telegram!</span></p>
                </div>

                <div class="pt-4">
                    <button onclick="navigate('bonus-page')" class="btn-primary w-full px-6 py-3 rounded-lg font-bold shadow-xl text-center flex items-center justify-center space-x-2 text-lg">
                        <span>Jetzt Bonis checken & Tickets sammeln!</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
                    </button>
                </div>
            </div>
        </section>

        <section id="leaderboard-page" class="page-section hidden">
            <button onclick="navigate('bonus-page')" class="back-button flex items-center space-x-2 text-accent text-lg font-semibold mb-6">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                <span>Zur√ºck zur Bonus-√úbersicht</span>
            </button>

            <h2 class="text-3xl sm:text-5xl font-extrabold text-accent mb-6 text-center">üèÜ Unser Aktuelles Monats-Leaderboard f√ºr Dich</h2>
            <div class="glass-card p-5 md:p-10 space-y-6">
                <p class="text-base sm:text-lg text-white/90 mb-6">
                    Schau, wer diesen Monat an der Spitze steht! Die Top 3 erhalten am Monatsende besondere Preise von uns, Deine Idioten.
                </p>
                <div class="overflow-x-auto rounded-lg">
                    <table class="min-w-full text-left text-white/90">
                        <thead class="text-accent border-b-2 border-accent/50">
                            <tr>
                                <th class="py-3 px-3 text-left">Rang</th>
                                <th class="py-3 px-3 text-left">Spieler-ID</th>
                                <th class="py-3 px-3 text-left">Wagered</th>
                                <th class="py-3 px-3 text-left hidden sm:table-cell">Meistgespielte Seite</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboard-body">
                            </tbody>
                    </table>
                </div>
                <p class="text-xs text-center pt-4 text-white/60">Die Daten werden monatlich aktualisiert. Alle Angaben ohne Gew√§hr.</p>
            </div>
        </section>

        <section id="support-page" class="page-section hidden">
            <button onclick="navigate('bonus-page')" class="back-button flex items-center space-x-2 text-accent text-lg font-semibold mb-6">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                <span>Zur√ºck zur Bonus-√úbersicht</span>
            </button>
            
            <h2 class="text-4xl sm:text-5xl font-extrabold text-accent mb-6 text-center">üí¨ Dein Support & Kontakt zu uns.</h2>
            <div class="glass-card p-5 md:p-10 space-y-6 text-center">
                <p class="text-base sm:text-lg text-white/90">
                    Hast Du Fragen zu Boni, Casinos oder brauchst Du Hilfe beim Kopieren eines Codes? Unser Trio-Support steht Dir gerne zur Verf√ºgung!
                </p>
                <div class="flex flex-col md:flex-row justify-center gap-4 sm:gap-6 pt-4">
                    <a href="https://t.me/idiotenbonus/5" target="_blank" class="btn-primary flex-1 max-w-sm px-6 py-3 rounded-lg font-bold shadow-xl hover:opacity-90 transition-all">
                        üí¨ Telegram
                    </a>
                    <a href="#" class="bg-gray-600 text-white/70 flex-1 max-w-sm px-6 py-3 rounded-lg font-bold shadow-xl cursor-not-allowed">
                        üí¨ Live-Chat (Bald verf√ºgbar)
                    </a>
                </div>
                <p class="text-xs pt-4 text-white/60">Antwortzeiten k√∂nnen w√§hrend der Feiertage variieren.</p>
            </div>
        </section>

    </main>

    <footer class="mt-8 py-6">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-sm text-christmas-red font-bold mb-2">
                Gl√ºcksspiel kann s√ºchtig machen.
            </p>
            <div class="flex flex-col md:flex-row justify-center space-y-1 md:space-y-0 md:space-x-6 text-xs sm:text-sm">
                <a href="https://www.bioeg.de/service/infotelefone/gluecksspielsucht/" target="_blank" class="hover:text-accent transition-colors text-white/70">
                    Hilfe unter: https://www.bioeg.de/service/infotelefone/gluecksspielsucht/
                </a>
            </div>
            <p class="mt-3 text-base font-extrabold text-christmas-red">Verantwortungsbewusst spielen (18+)</p>
            <p class="mt-1 text-xs text-white/50">&copy; 2025 Eure Idioten.</p>
             <a href="#" id="admin-toggle" class="text-xs hover:underline" onclick="document.getElementById('login-modal').classList.remove('hidden'); return false;">
                    Backoffice Login
                </a>
        </div>
    </footer>
</div>

<div id="login-modal" class="hidden flex items-center justify-center p-4">
    <div class="glass-card p-8 max-w-sm w-full text-center">
        <h2 class="text-2xl font-bold mb-4 text-accent">üîê Backoffice Login</h2>
        <input type="password" id="admin-password" placeholder="Passwort" class="w-full p-3 mb-4 bg-white/10 rounded-lg border border-white/20 text-white focus:ring-primary-blue focus:border-primary-blue" onkeyup="if(event.key==='Enter') loginAdmin()">
        <button onclick="loginAdmin()" class="btn-primary w-full px-6 py-3 rounded-lg font-bold">
            Anmelden
        </button>
        <button onclick="document.getElementById('login-modal').classList.add('hidden')" class="mt-3 text-sm text-white/70 hover:text-white transition-colors">
            Abbrechen
        </button>
    </div>
</div>

<div id="admin-panel" class="hidden bg-background-dark/95 backdrop-blur-lg p-4 sm:p-6 md:p-10">
    <div class="max-w-6xl mx-auto">
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 border-b border-white/20 pb-4">
            <h1 class="text-2xl sm:text-3xl font-extrabold text-christmas-red mb-2 sm:mb-0">‚öôÔ∏è Backoffice Management</h1>
            <button onclick="logoutAdmin()" class="bg-red-700 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-bold transition-colors text-sm sm:text-base">
                Abmelden
            </button>
        </div>

        <div class="flex admin-tab-container border-b border-accent/50 mb-8">
            <button class="admin-tab text-base sm:text-lg font-semibold py-2 px-3 sm:px-4 mr-2 sm:mr-4 active" data-tab="leaderboard" onclick="showAdminTab('leaderboard')">üèÜ Leaderboard</button>
            <button class="admin-tab text-base sm:text-lg font-semibold py-2 px-3 sm:px-4 mr-2 sm:mr-4 text-white/70 hover:text-white transition-colors" data-tab="casinos" onclick="showAdminTab('casinos')">üé∞ Casinos</button>
        </div>


        <div id="admin-leaderboard" class="admin-tab-content">
            <h2 class="text-xl sm:text-2xl font-bold text-accent mb-4">Leaderboard-Daten anpassen</h2>
            <p class="text-white/70 mb-6 text-sm sm:text-base">Bearbeiten Sie die Daten direkt in der Tabelle.</p>

            <div class="glass-card p-4 mb-6">
                <div class="overflow-x-auto">
                    <table class="min-w-full text-left text-white/90">
                        <thead class="text-accent border-b-2 border-accent/50 text-sm sm:text-base">
                            <tr>
                                <th class="py-2 px-2 text-left w-16">Rang</th>
                                <th class="py-2 px-2 text-left w-auto">Spieler ID</th>
                                <th class="py-2 px-2 text-left w-auto">Wagered</th>
                                <th class="py-2 px-2 text-left w-auto">Seite</th>
                                <th class="py-2 px-2 text-left w-20">Aktion</th>
                            </tr>
                        </thead>
                        <tbody id="admin-leaderboard-body">
                            </tbody>
                    </table>
                </div>
            </div>
            
            <div class="flex flex-wrap gap-4">
                <button onclick="saveLeaderboard()" class="btn-primary px-4 py-2 rounded-lg font-bold">
                    ‚úÖ Leaderboard speichern
                </button>
                <button onclick="addLeaderboardEntry()" class="bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg font-bold transition-colors">
                    ‚ûï Eintrag hinzuf√ºgen
                </button>
            </div>
        </div>

        <div id="admin-casinos" class="admin-tab-content hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-accent mb-4">Casino-Liste verwalten (mit Bild-Upload)</h2>
            <p class="text-white/70 mb-6 text-sm sm:text-base">Verwalten Sie die Casino-Eintr√§ge. Bilder werden Base64-kodiert im Browser gespeichert.</p>

            <div id="admin-casino-list" class="space-y-6">
                </div>

            <div class="flex flex-wrap gap-4 mt-8">
                <button onclick="addCasinoEntry()" class="bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg font-bold transition-colors">
                    ‚ûï Neues Casino hinzuf√ºgen
                </button>
                <button onclick="saveCasinos()" class="btn-primary px-4 py-2 rounded-lg font-bold">
                    üíæ Alle Casinos speichern
                </button>
            </div>
        </div>
    </div>
</div>
<script>
    // ----------------------------------------------------------------------
    // GLOBALE DATENSTRUKTUREN (Standardwerte f√ºr den ersten Start)
    // Logo sollte Base64-kodierte Bilder speichern. Hier sind Platzhalter.
    // ----------------------------------------------------------------------
    
    // Platzhalter f√ºr Logos (ein kleiner Base64-String oder ein leerer String)
    const PLACEHOLDER_LOGO = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgdmlld0JveD0iMCAwIDY0IDY0Ij4KICAgIDxyZWN0IHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgcng9IjEwIiBmaWxsPSIjMjMzMzQxIi8+CiAgICA8dGV4dCB4PSIzMiIgeT0iMzgiIGZvbnQtZmFtaWx5PSJTYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMzhCREY4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5MT0dPPyBUcmlvPC90ZXh0Pgo8L3N2Zy>";

    const DEFAULT_CASINOS = [
        { name: "Pistolo", logo: PLACEHOLDER_LOGO, percent: 100, maxBonus: "500‚Ç¨", wager: "35x", type: "Non-Sticky", tags: ["200 Freegames", "Sofort-Auszahlung", "Non-Sticky"], link: "https://tinyurl.com/PistoloMerkur", code: null, order: 1, specialFeatures: [] },
        { name: "RTBET", logo: PLACEHOLDER_LOGO, percent: 100, maxBonus: "500‚Ç¨", wager: "35x", type: "Non-Sticky", tags: ["200 Freegames", "Sofort-Auszahlung", "Non-Sticky"], link: "https://tinyurl.com/RTBetMerkur", code: null, order: 2, specialFeatures: [] },
        { name: "Neon54", logo: PLACEHOLDER_LOGO, percent: 100, maxBonus: "500‚Ç¨", wager: "40x", type: "Non-Sticky", tags: ["200 Freegames", "Live Casino", "Sofort-Auszahlung", "Non-Sticky"], link: "https://tinyurl.com/Neon54Merkur", code: null, order: 3, specialFeatures: [] },
        { name: "MyEmpire", logo: PLACEHOLDER_LOGO, percent: 100, maxBonus: "500‚Ç¨", wager: "30x", type: "Sticky", tags: ["200 Freegames", "Sofort-Auszahlung", "Sticky"], link: "https://tinyurl.com/MyEmpireMerkur", code: null, order: 4, specialFeatures: [] },
        { name: "Legiano", logo: PLACEHOLDER_LOGO, percent: 350, maxBonus: "500‚Ç¨", wager: "45x", type: "Non-Sticky", tags: ["Hoher % Bonus", "200 Freegames", "Sofort-Auszahlung", "Non-Sticky"], link: "https://tinyurl.com/LegianoMerkur", code: null, order: 5, specialFeatures: [] },
        { name: "AllySpin", logo: PLACEHOLDER_LOGO, percent: 250, maxBonus: "1000‚Ç¨", wager: "30x", type: "Sticky", tags: ["Riesiger Bonus", "200 Freegames", "Sofort-Auszahlung", "Sticky"], link: "https://tinyurl.com/AllyspinMerkur", code: null, order: 6, specialFeatures: [] },
        { name: "SGCasino", logo: PLACEHOLDER_LOGO, percent: 100, maxBonus: "500‚Ç¨", wager: "35x", type: "Non-Sticky", tags: ["200 Freegames", "Sofort-Auszahlung", "Non-Sticky"], link: "https://tinyurl.com/SGCasinoMerkur", code: null, order: 7, specialFeatures: [] },
        { name: "SlotsPalace", logo: PLACEHOLDER_LOGO, percent: 100, maxBonus: "1000‚Ç¨", wager: "30x", type: "Sticky", tags: ["1000‚Ç¨ Paket-Bonus", "Sofort-Auszahlung", "Sticky"], link: "https://tinyurl.com/SlotspalaceMerkur", code: null, order: 8, specialFeatures: [] },
        { name: "Spinbara", logo: PLACEHOLDER_LOGO, percent: 200, maxBonus: "3000$", wager: "35x", type: "Non-Sticky", tags: ["Mega Bonus", "Sofort-Auszahlung", "Non-Sticky"], link: "https://tinyurl.com/SpinbaraMerkur", code: null, order: 9, specialFeatures: [] },
        { 
            name: "Razed", logo: PLACEHOLDER_LOGO, 
            percent: 0, maxBonus: "N/A", wager: "N/A", 
            type: "Special", tags: ["Instant-VIP", "Highroller", "250K Race"], 
            link: "https://www.razed.com/signup/?raf=Idioten", code: "idioten", order: 10,
            specialFeatures: ["Instant-VIP", "Weeklies & Monthlies", "250k Christmas Race Teilnahme", "100% Einzahlungsbonus", "Nicht in dem Christmas Giveaway inbegriffen"]
        }
    ];

    const DEFAULT_LEADERBOARD = [
        { rank: 1, id: "SackSocke", wagered: "‚Ç¨ 15.000", site: "Pistolo" },
        { rank: 2, id: "Paradoxon", wagered: "‚Ç¨ 12.000", site: "RTBET" },
        { rank: 3, id: "BeautyWise", wagered: "‚Ç¨ 9.800", site: "SlotsPalace" },
        { rank: 4, id: "PinkPug", wagered: "‚Ç¨ 7.500", site: "MyEmpire" },
        { rank: 5, id: "Glueckskeks", wagered: "‚Ç¨ 6.490", site: "RTBET" },
        { rank: 6, id: "Bounz", wagered: "‚Ç¨ 5.108", site: "SGCasino" },
        { rank: 7, id: "Bloodman123", wagered: "‚Ç¨ 4.480", site: "AllySpin" },
        { rank: 8, id: "SZ777", wagered: "‚Ç¨ 3.900", site: "MyEmpire" },
        { rank: 9, id: "DepoDust", wagered: "‚Ç¨ 3.550", site: "Razed" },
        { rank: 10, id: "Apoo", wagered: "‚Ç¨ 3.200", site: "SlotsPalace" }
    ];

    // Daten, die geladen oder initialisiert werden
    let casinos = [];
    let leaderboardData = [];
    let currentFilter = 'all';


    // ----------------------------------------------------------------------
    // SPEICHERUNG / LADEN FUNKTIONALIT√ÑT (LocalStorage)
    // ----------------------------------------------------------------------

    /**
     * L√§dt Daten aus dem LocalStorage oder verwendet Standardwerte.
     */
    function loadData() {
        try {
            const storedCasinos = localStorage.getItem('idiotenbonus_casinos');
            const storedLeaderboard = localStorage.getItem('idiotenbonus_leaderboard');

            casinos = storedCasinos ? JSON.parse(storedCasinos) : DEFAULT_CASINOS;
            leaderboardData = storedLeaderboard ? JSON.parse(storedLeaderboard) : DEFAULT_LEADERBOARD;
            
            // Stelle sicher, dass Logos bei leeren Base64-Strings den Platzhalter verwenden
            casinos.forEach(c => {
                if (!c.logo || c.logo.startsWith('http') || c.logo.endsWith('.jpg')) {
                     // Wenn es noch der alte Dateiname oder leer ist, setze den Base64-Platzhalter
                    c.logo = PLACEHOLDER_LOGO;
                }
            });

            console.log('Daten erfolgreich geladen. Casinos:', casinos.length, 'Leaderboard:', leaderboardData.length);
        } catch (e) {
            console.error('Fehler beim Laden der Daten aus LocalStorage. Verwende Standarddaten.', e);
            casinos = DEFAULT_CASINOS;
            leaderboardData = DEFAULT_LEADERBOARD;
        }
    }

    /**
     * Speichert die aktuellen Casino-Daten im LocalStorage.
     */
    function saveCasinosToStorage() {
        localStorage.setItem('idiotenbonus_casinos', JSON.stringify(casinos));
    }

    /**
     * Speichert die aktuellen Leaderboard-Daten im LocalStorage.
     */
    function saveLeaderboardToStorage() {
        localStorage.setItem('idiotenbonus_leaderboard', JSON.stringify(leaderboardData));
    }


    // ----------------------------------------------------------------------
    // FRONTEND RENDERING FUNKTIONEN (f√ºr die √∂ffentliche Seite)
    // ----------------------------------------------------------------------

    /**
     * Rendert die Casino-Karten basierend auf dem Filter.
     */
    function renderCasinos(filter) {
        const container = document.getElementById('casino-list');
        if (!container) return;
        container.innerHTML = '';
        
        const filteredCasinos = casinos.filter(c => 
            filter === 'all' || 
            c.type === filter || 
            (filter === 'Special' && c.code) || 
            (filter === 'Non-Sticky' && c.type === 'Non-Sticky') ||
            (filter === 'Sticky' && c.type === 'Sticky')
        ).sort((a, b) => a.order - b.order);

        filteredCasinos.forEach((c) => {
            const casinoCard = document.createElement('div');
            // RESPONSIVE: flex-col auf kleinen Screens, flex-row auf gro√üen
            casinoCard.className = 'glass-card p-4 sm:p-5 flex flex-col lg:flex-row items-start lg:items-center space-y-4 lg:space-y-0 shadow-xl transition-all'; 
            casinoCard.setAttribute('data-type', c.type);

            const tagElements = (c.tags || []).map(tag => 
                `<span class="mini-glass-box text-xs font-medium px-2 py-0.5 whitespace-nowrap">${tag}</span>`
            ).join('');
            
            let cardContent;

           // --- SPEZIELLES RAZED DESIGN (Code vorhanden) ---
            if (c.code) {
                const featureList = (c.specialFeatures || []).map(f => `<li class="flex items-start space-x-2"><span class="text-christmas-gold text-lg">‚òÖ</span><span class="text-sm">${f}</span></li>`).join('');

                cardContent = `
                    <div class="flex-shrink-0 w-full lg:w-1/4 flex items-center space-x-3 sm:space-x-4 pb-4 lg:pb-0 border-b lg:border-b-0 lg:pr-4">
                        <img src="${c.logo || PLACEHOLDER_LOGO}" alt="${c.name} Logo" class="w-14 h-14 sm:w-16 sm:h-16 rounded-full border-2 border-christmas-red shadow-lg flex-shrink-0 casino-logo">
                        <div>
                            <p class="text-lg font-extrabold text-christmas-red mb-0">#${c.order}</p>
                            <h4 class="text-xl sm:text-2xl font-bold text-white">${c.name} <span class="text-christmas-gold">(VIP)</span></h4>
                        </div>
                    </div>

                    <div class="w-full lg:w-2/4 mt-4 lg:mt-0 lg:px-6 border-y lg:border-y-0 lg:border-x border-white/20 py-3 lg:py-0">
                        <h5 class="text-base font-semibold text-accent mb-2">Exklusive Vorteile durch Code:</h5>
                        <ul class="space-y-1 text-left">
                            ${featureList}
                        </ul>
                    </div>

                    <div class="w-full lg:w-1/4 flex flex-col items-center justify-center lg:items-end space-y-3 mt-4 lg:mt-0 lg:pl-4">
                        
                        <div class="flex items-center space-x-2"> 
                            <div class="text-center lg:text-right">
                                <p class="text-sm font-medium text-white/70 mb-0">Dein Bonus-Code:</p>
                                <span id="bonus-code-${c.code}" class="text-xl font-extrabold text-christmas-gold tracking-wider">${c.code}</span>
                            </div>
                            
                            <button onclick="copyCode('bonus-code-${c.code}')" class="bg-primary-blue text-white p-2 rounded-lg hover:bg-primary-blue/80 transition duration-150 shadow-md flex items-center justify-center h-full flex-shrink-0" title="Code kopieren">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-2M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v2"/></svg>
                            </button>
                        </div>
                        <a href="${c.link}" target="_blank" class="btn-primary w-full lg:w-auto px-4 py-2 rounded-lg font-bold shadow-xl flex justify-center items-center space-x-2">
                            <span>Jetzt spielen!</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
                        </a>
                    </div>
                    
                `;
            }
            // --- STANDARD CASINO DESIGN MIT NEUEN MINI BOXEN ---
            else {
                cardContent = `
                    <div class="flex-shrink-0 w-full lg:w-1/4 flex items-center space-x-3 sm:space-x-4 pb-4 lg:pb-0 border-b lg:border-b-0 lg:pr-4">
                        <img src="${c.logo || PLACEHOLDER_LOGO}" alt="${c.name} Logo" class="w-14 h-14 sm:w-16 sm:h-16 rounded-full border-2 border-primary-blue shadow-lg flex-shrink-0 casino-logo">
                        <div>
                            <p class="text-lg font-extrabold text-accent mb-0">#${c.order}</p>
                            <h4 class="text-xl sm:text-2xl font-bold text-white">${c.name}</h4>
                        </div>
                    </div>

                    <div class="w-full lg:w-2/4 grid grid-cols-3 gap-3 text-center mt-4 lg:mt-0 lg:px-6 border-y lg:border-y-0 lg:border-x border-white/20 py-3 lg:py-0">
                        
                        <div class="mini-glass-box">
                            <p class="text-sm font-medium text-white/70">Prozent</p>
                            <p class="text-lg sm:text-xl font-bold text-accent">${c.percent}%</p>
                        </div>
                        
                        <div class="mini-glass-box">
                            <p class="text-sm font-medium text-white/70">Max. Bonus</p>
                            <p class="text-lg sm:text-xl font-bold text-white">${c.maxBonus}</p>
                        </div>
                        
                        <div class="mini-glass-box">
                            <p class="text-sm font-medium text-white/70">Umsatz</p>
                            <p class="text-lg sm:text-xl font-bold text-white">${c.wager}</p>
                        </div>
                        
                        <div class="col-span-3 pt-2">
                            <div class="flex flex-wrap justify-center gap-2">
                                ${tagElements}
                            </div>
                        </div>
                    </div>

                    <div class="w-full lg:w-1/4 flex flex-col items-center justify-center lg:items-end space-y-3 mt-4 lg:mt-0 lg:pl-4">
                        <p class="text-sm font-bold text-white/80">${c.type}-Bonus</p>
                        <a href="${c.link}" target="_blank" class="btn-primary w-full lg:w-auto px-4 py-2 rounded-lg font-bold shadow-xl flex justify-center items-center space-x-2">
                            <span>Jetzt Bonus sichern!</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
                        </a>
                    </div>
                `;
            }

            casinoCard.innerHTML = cardContent;
            container.appendChild(casinoCard);
        });
        
        // Filter-Buttons aktualisieren
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('bg-primary-blue', 'text-black', 'hover:bg-primary-blue/50', 'text-white');
            btn.classList.add('bg-white/10', 'text-white', 'hover:bg-primary-blue/50');
            if (btn.getAttribute('data-filter') === filter) {
                btn.classList.add('bg-primary-blue', 'text-black');
                btn.classList.remove('bg-white/10', 'text-white');
            }
        });
    }

    /**
     * Rendert die Leaderboard-Tabelle.
     */
    function renderLeaderboard() {
        const container = document.getElementById('leaderboard-body');
        if (!container) return;
        container.innerHTML = '';

        leaderboardData.sort((a, b) => a.rank - b.rank);

        leaderboardData.forEach((entry, index) => {
            const row = document.createElement('tr');
            row.className = `border-b border-white/10 ${index % 2 === 0 ? 'bg-white/5' : ''}`;
            
            let rankClass = 'font-semibold';
            if (entry.rank === 1) rankClass = 'font-extrabold text-christmas-gold text-lg';
            else if (entry.rank === 2) rankClass = 'font-bold text-white text-lg';
            else if (entry.rank === 3) rankClass = 'font-bold text-white/90 text-lg';

            row.innerHTML = `
                <td class="py-3 px-3 ${rankClass}">${entry.rank}.</td>
                <td class="py-3 px-3 text-sm sm:text-base">${entry.id}</td>
                <td class="py-3 px-3 font-mono text-accent text-sm sm:text-base">${entry.wagered}</td>
                <td class="py-3 px-3 hidden sm:table-cell text-sm sm:text-base">${entry.site}</td>
            `;
            container.appendChild(row);
        });
    }

    // ----------------------------------------------------------------------
    // ADMIN PANEL RENDERING FUNKTIONEN
    // ----------------------------------------------------------------------

    /**
     * Rendert die Casino-Eintr√§ge im Admin-Panel (mit neuem Logo-Upload).
     */
    function renderAdminCasinos() {
        const container = document.getElementById('admin-casino-list');
        if (!container) return;
        container.innerHTML = '';
        
        casinos.sort((a, b) => a.order - b.order).forEach((c, index) => {
            const casinoBlock = document.createElement('div');
            casinoBlock.className = 'glass-card p-4 border-l-4 border-primary-blue space-y-3';
            
            // Logik f√ºr den Image Upload-Bereich
            const imageUploadHTML = `
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-white/70">Casino Logo (Base64-Bild)</label>
                    <div class="drag-drop-area p-4 rounded-lg text-center cursor-pointer" id="drop-area-${index}">
                        <input type="file" id="logo-file-input-${index}" accept="image/*" class="hidden" 
                               onchange="handleLogoUpload(event, ${index})">
                        <img id="logo-preview-${index}" src="${c.logo || PLACEHOLDER_LOGO}" alt="Logo Preview" 
                             class="w-16 h-16 rounded-full mx-auto mb-2 object-cover border border-white/20">
                        <p class="text-sm text-white/80">
                            **${c.name}** | Klicken zum Hochladen oder Bild hierher ziehen.
                        </p>
                        <button type="button" onclick="document.getElementById('logo-file-input-${index}').click()" 
                                class="mt-2 bg-gray-600 hover:bg-gray-500 text-white text-xs px-3 py-1 rounded-full">
                            Bild w√§hlen
                        </button>
                    </div>
                </div>
            `;
            
            casinoBlock.innerHTML = `
                <div class="flex justify-between items-start">
                    <h4 class="text-xl font-bold text-accent">${c.name} (#${c.order})</h4>
                    <button onclick="removeCasinoEntry(${index})" class="bg-red-500 hover:bg-red-400 text-white px-3 py-1 rounded-lg text-sm font-bold transition-colors">
                        L√∂schen
                    </button>
                </div>
                
                ${imageUploadHTML}

                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3">
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-white/70">Name</label>
                        <input type="text" class="admin-input w-full p-2 rounded-lg" data-key="name" value="${c.name}" data-index="${index}">
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-white/70">Order</label>
                        <input type="number" class="admin-input w-full p-2 rounded-lg" data-key="order" value="${c.order}" data-index="${index}">
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-white/70">Prozent (%)</label>
                        <input type="number" class="admin-input w-full p-2 rounded-lg" data-key="percent" value="${c.percent}" data-index="${index}">
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-white/70">Max. Bonus</label>
                        <input type="text" class="admin-input w-full p-2 rounded-lg" data-key="maxBonus" value="${c.maxBonus}" data-index="${index}">
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-white/70">Wager (z.B. 35x)</label>
                        <input type="text" class="admin-input w-full p-2 rounded-lg" data-key="wager" value="${c.wager}" data-index="${index}">
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-white/70">Typ (Sticky/Non-Sticky/Special)</label>
                        <input type="text" class="admin-input w-full p-2 rounded-lg" data-key="type" value="${c.type}" data-index="${index}">
                    </div>
                    <div class="space-y-2 col-span-1 sm:col-span-2 md:col-span-2">
                        <label class="block text-sm font-medium text-white/70">Link (URL)</label>
                        <input type="url" class="admin-input w-full p-2 rounded-lg" data-key="link" value="${c.link}" data-index="${index}">
                    </div>
                </div>
                
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-white/70">Tags (mit Komma trennen)</label>
                    <input type="text" class="admin-input w-full p-2 rounded-lg" data-key="tags" value="${(c.tags || []).join(', ')}" data-index="${index}">
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-white/70">Code (optional, nur f√ºr Special)</label>
                        <input type="text" class="admin-input w-full p-2 rounded-lg" data-key="code" value="${c.code || ''}" data-index="${index}">
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-white/70">Special Features (mit Komma trennen)</label>
                        <input type="text" class="admin-input w-full p-2 rounded-lg" data-key="specialFeatures" value="${(c.specialFeatures || []).join(', ')}" data-index="${index}">
                    </div>
                </div>
            `;
            container.appendChild(casinoBlock);
            
            // Init Drag and Drop Listener
            initDragAndDrop(index);
        });
    }

    /**
     * F√ºgt Drag-and-Drop-Listener f√ºr den Dateibereich hinzu.
     */
    function initDragAndDrop(index) {
        const dropArea = document.getElementById(`drop-area-${index}`);
        const fileInput = document.getElementById(`logo-file-input-${index}`);

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, preventDefaults, false);
            document.body.addEventListener(eventName, preventDefaults, false);
        });

        ['dragenter', 'dragover'].forEach(eventName => {
            dropArea.addEventListener(eventName, () => dropArea.classList.add('dragover'), false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, () => dropArea.classList.remove('dragover'), false);
        });

        dropArea.addEventListener('drop', e => {
            const dt = e.dataTransfer;
            const files = dt.files;
            
            if (files.length > 0) {
                // Erstellt ein simuliertes Event-Objekt f√ºr handleLogoUpload
                const syntheticEvent = { target: { files: files } };
                handleLogoUpload(syntheticEvent, index);
            }
        }, false);
        
        dropArea.addEventListener('click', () => fileInput.click(), false);
    }
    
    function preventDefaults (e) {
        e.preventDefault();
        e.stopPropagation();
    }


    /**
     * Konvertiert die hochgeladene Datei in einen Base64-String und aktualisiert die Datenstruktur.
     */
    function handleLogoUpload(event, index) {
        const file = event.target.files[0];
        if (!file || !file.type.startsWith('image/')) {
            alert("Bitte w√§hlen Sie eine g√ºltige Bilddatei aus.");
            return;
        }

        const reader = new FileReader();
        reader.onload = function(e) {
            const base64Image = e.target.result;
            
            // Speichere den Base64-String direkt in der Datenstruktur
            casinos[index].logo = base64Image;
            
            // Aktualisiere die Vorschau
            document.getElementById(`logo-preview-${index}`).src = base64Image;
            
            console.log(`Logo f√ºr Casino ${casinos[index].name} aktualisiert (Base64).`);
            // KEIN sofortiges saveCasinosToStorage(), da dies erst beim Klick auf "Speichern" erfolgen soll
            // Aber die Datenstruktur im RAM ist aktualisiert.
        };
        reader.readAsDataURL(file);
    }
    
    /**
     * Rendert die Leaderboard-Eintr√§ge im Admin-Panel.
     */
    function renderAdminLeaderboard() {
        const container = document.getElementById('admin-leaderboard-body');
        if (!container) return;
        container.innerHTML = '';

        leaderboardData.sort((a, b) => a.rank - b.rank).forEach((entry, index) => {
            const row = document.createElement('tr');
            row.className = `border-b border-white/10 ${index % 2 === 0 ? 'bg-white/5' : ''}`;
            
            // RESPONSIVE: Kleinere Input-Felder f√ºr Mobilger√§te
            row.innerHTML = `
                <td class="py-2 px-2"><input type="number" class="admin-input w-full p-1 rounded text-xs sm:text-sm" data-key="rank" value="${entry.rank}" data-index="${index}"></td>
                <td class="py-2 px-2"><input type="text" class="admin-input w-full p-1 rounded text-xs sm:text-sm" data-key="id" value="${entry.id}" data-index="${index}"></td>
                <td class="py-2 px-2"><input type="text" class="admin-input w-full p-1 rounded text-xs sm:text-sm" data-key="wagered" value="${entry.wagered}" data-index="${index}"></td>
                <td class="py-2 px-2"><input type="text" class="admin-input w-full p-1 rounded text-xs sm:text-sm" data-key="site" value="${entry.site}" data-index="${index}"></td>
                <td class="py-2 px-2 text-center">
                    <button onclick="removeLeaderboardEntry(${index})" class="text-red-400 hover:text-red-300 text-sm font-bold">üóëÔ∏è</button>
                </td>
            `;
            container.appendChild(row);
        });
        
        if (leaderboardData.length === 0) {
            addLeaderboardEntry();
        }
    }


    // ----------------------------------------------------------------------
    // ADMIN PANEL FUNKTIONALIT√ÑT (Datenmanipulation mit Speicherung)
    // ----------------------------------------------------------------------

    // Casino Management
    function addCasinoEntry() {
        const newOrder = casinos.length > 0 ? Math.max(...casinos.map(c => c.order)) + 1 : 1;
        casinos.push({ 
            name: "Neues Casino", logo: PLACEHOLDER_LOGO, 
            percent: 100, maxBonus: "500‚Ç¨", wager: "35x", 
            type: "Non-Sticky", tags: ["Neu"], 
            link: "https://neues-casino.com", code: null, order: newOrder,
            specialFeatures: []
        });
        renderAdminCasinos();
        saveCasinosToStorage(); 
        alert('Neues Casino hinzugef√ºgt. Bitte f√ºllen Sie alle Felder aus und klicken Sie auf "Alle Casinos speichern".');
    }

    function removeCasinoEntry(index) {
        if (confirm('Sind Sie sicher, dass Sie dieses Casino l√∂schen m√∂chten?')) {
            casinos.splice(index, 1);
            renderAdminCasinos();
            saveCasinosToStorage(); 
            renderCasinos(currentFilter); 
            alert('Casino gel√∂scht und gespeichert!');
        }
    }

    function saveCasinos() {
        const inputs = document.querySelectorAll('#admin-casino-list input:not([type="file"])');
        let newCasinos = [];
        let tempCasino = {};

        // Verarbeiten von Logo-Base64-Strings, die bereits in der 'casinos'-Datenstruktur gespeichert wurden
        // und die restlichen Input-Felder
        casinos.sort((a, b) => a.order - b.order).forEach((c, index) => {
            const casinoElement = document.querySelector(`[data-index="${index}"]`);
            if (casinoElement) { // √úberpr√ºfe, ob das Element noch existiert (wichtig nach L√∂schungen)
                let tempCasino = { ...c }; 

                // Durchlaufe alle Input-Felder f√ºr diesen Index
                document.querySelectorAll(`.admin-input[data-index="${index}"]`).forEach(input => {
                    const key = input.getAttribute('data-key');
                    let value = input.value.trim();
                    
                    if (key === 'tags' || key === 'specialFeatures') {
                        tempCasino[key] = value.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0);
                    } else if (key === 'percent' || key === 'order') {
                        tempCasino[key] = parseInt(value) || 0;
                    } else {
                        tempCasino[key] = value;
                    }
                });
                
                // Stelle sicher, dass das Base64-Logo, das durch handleLogoUpload gesetzt wurde, erhalten bleibt
                newCasinos.push(finalizeCasinoEntry(tempCasino));
            }
        });

        casinos = newCasinos;
        saveCasinosToStorage(); // WICHTIG: Speichern im LocalStorage
        renderAdminCasinos(); 
        renderCasinos(currentFilter); 
        alert('Casinos erfolgreich gespeichert und Frontend aktualisiert! (Bilder im Browser gespeichert)');
    }

    function finalizeCasinoEntry(tempCasino) {
        return {
            name: tempCasino.name || 'Unbenannt',
            logo: tempCasino.logo || PLACEHOLDER_LOGO, // Base64
            percent: tempCasino.percent || 0,
            maxBonus: tempCasino.maxBonus || 'N/A',
            wager: tempCasino.wager || 'N/A',
            type: tempCasino.type || 'Non-Sticky',
            tags: tempCasino.tags || [],
            link: tempCasino.link || '#',
            code: tempCasino.code || null,
            order: tempCasino.order || 99,
            specialFeatures: tempCasino.specialFeatures || []
        };
    }

    // Leaderboard Management
    function addLeaderboardEntry() {
        const newRank = leaderboardData.length + 1;
        leaderboardData.push({ 
            rank: newRank, 
            id: "NeuerSpieler" + newRank, 
            wagered: "‚Ç¨ 100", 
            site: "NeuesCasino" 
        });
        renderAdminLeaderboard();
        saveLeaderboardToStorage(); 
        alert('Neuer Leaderboard-Eintrag hinzugef√ºgt. Bitte speichern Sie die Seite, um die Daten dauerhaft zu speichern!');
    }

    function removeLeaderboardEntry(index) {
        if (confirm('Sind Sie sicher, dass Sie diesen Leaderboard-Eintrag l√∂schen m√∂chten?')) {
            leaderboardData.splice(index, 1);
            leaderboardData.forEach((entry, i) => entry.rank = i + 1);
            renderAdminLeaderboard();
            saveLeaderboardToStorage(); 
            renderLeaderboard(); 
            alert('Eintrag gel√∂scht und gespeichert!');
        }
    }

    function saveLeaderboard() {
        const inputs = document.querySelectorAll('#admin-leaderboard-body input');
        let newLeaderboard = [];
        let tempEntry = {};

        inputs.forEach(input => {
            const index = parseInt(input.getAttribute('data-index'));
            const key = input.getAttribute('data-key');
            const value = input.value.trim();

            if (tempEntry.index !== index && Object.keys(tempEntry).length > 0) {
                newLeaderboard.push(tempEntry);
                tempEntry = {};
            }

            tempEntry.index = index;
            tempEntry[key] = key === 'rank' ? parseInt(value) : value;
        });

        if (Object.keys(tempEntry).length > 0) {
            newLeaderboard.push(tempEntry);
        }

        newLeaderboard.sort((a, b) => a.rank - b.rank);
        newLeaderboard.forEach((entry, i) => {
            entry.rank = i + 1; 
            delete entry.index; 
        });

        leaderboardData = newLeaderboard;
        saveLeaderboardToStorage(); 
        renderAdminLeaderboard(); 
        renderLeaderboard(); 
        alert('Leaderboard erfolgreich gespeichert und Frontend aktualisiert!');
    }


    // ----------------------------------------------------------------------
    // ALLGEMEINE SEITEN-FUNKTIONALIT√ÑT
    // ----------------------------------------------------------------------
    
    // NAVIGATION
    function navigate(pageId) {
        document.querySelectorAll('.page-section').forEach(section => {
            section.classList.add('hidden');
        });
        const page = document.getElementById(pageId);
        if (page) {
            page.classList.remove('hidden');
        }
        
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.classList.remove('active-page');
            if (btn.getAttribute('data-page') === pageId) {
                btn.classList.add('active-page');
            }
        });

        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // FILTER FUNKTIONALIT√ÑT
    function setFilter(filter) {
        currentFilter = filter;
        renderCasinos(currentFilter);
    }


    // ADMIN ZUGRIFF & TABS
    function loginAdmin() {
        const password = document.getElementById('admin-password').value;
        // PASSWORT: 'IdiotenBonus123$!'
        if (password === 'IdiotenBonus123$!') { 
            document.getElementById('login-modal').classList.add('hidden');
            document.getElementById('admin-panel').classList.remove('hidden'); 
            document.getElementById('admin-password').value = ''; 
            showAdminTab('leaderboard'); 
        } else {
            alert('Falsches Passwort!');
            document.getElementById('admin-password').value = '';
        }
    }

    function logoutAdmin() {
        document.getElementById('admin-panel').classList.add('hidden');
        document.getElementById('login-modal').classList.add('hidden');
        // Nach dem Abmelden zur Hauptseite navigieren
        navigate('bonus-page');
    }

    function showAdminTab(tabName) {
        document.querySelectorAll('.admin-tab-content').forEach(content => {
            content.classList.add('hidden');
        });
        document.getElementById('admin-' + tabName).classList.remove('hidden');
        
        document.querySelectorAll('.admin-tab').forEach(tab => {
            tab.classList.remove('active', 'text-white/70', 'hover:text-white');
            tab.classList.add('text-white/70', 'hover:text-white');
            if (tab.getAttribute('data-tab') === tabName) {
                tab.classList.add('active');
                tab.classList.remove('text-white/70');
            }
        });
        
        if (tabName === 'leaderboard') {
            renderAdminLeaderboard();
        } else if (tabName === 'casinos') {
            renderAdminCasinos();
        }
    }
    
   // AGE GATE FUNKTIONALIT√ÑT
    function checkAgeGate() {
        // *** WICHTIGE √ÑNDERUNG 1: Wir setzen ageVerified IMMER auf false. ***
        // Dadurch wird die persistente Speicherung im localStorage ignoriert und das Modal immer angezeigt.
        const ageVerified = false; 
        
        if (ageVerified) {
            // Dieser Block wird NIE ausgef√ºhrt, da ageVerified immer false ist, 
            // aber er bleibt hier f√ºr eine klare Struktur.
            document.body.classList.remove('hidden-until-verified');
            document.getElementById('age-gate-modal').classList.add('hidden');
            document.getElementById('main-content').classList.remove('hidden');
            
            // Lade die Daten und rendere das Frontend
            loadData();
            navigate('bonus-page'); 
            renderCasinos(currentFilter);
            renderLeaderboard();

        } else {
            // Wenn NICHT best√§tigt (was jetzt immer der Fall ist), zeige NUR das Age Gate
            document.body.classList.add('hidden-until-verified'); 
            document.getElementById('age-gate-modal').classList.remove('hidden');
        }
    }

    function confirmAge() {
        // *** WICHTIGE √ÑNDERUNG 2: localStorage.setItem('ageVerified', 'true'); WURDE ENTFERNT! ***
        // Der Status wird beim Schlie√üen des Modals NICHT gespeichert.
        
        // F√ºhrt die Logik aus, um das Age Gate zu verstecken und den Hauptinhalt zu zeigen
        document.body.classList.remove('hidden-until-verified');
        document.getElementById('age-gate-modal').classList.add('hidden');
        document.getElementById('main-content').classList.remove('hidden');
        
        // Lade die Daten und rendere das Frontend
        loadData();
        navigate('bonus-page'); 
        renderCasinos(currentFilter);
        renderLeaderboard();
    }

    function denyAccess() {
        alert('Zugriff verweigert. Sie m√ºssen mindestens 18 Jahre alt sein, um diese Seite zu nutzen.');
        window.location.href = 'https://www.google.com'; 
    }
    
    // EVENT LISTENER UND INITIALISIERUNG
    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('confirm-age-btn').addEventListener('click', confirmAge);

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => setFilter(btn.getAttribute('data-filter')));
        });

        // Startet den gesamten Prozess (l√§sst jetzt immer das Age Gate erscheinen)
        checkAgeGate();
    });

    // Globale Funktionen (zur Sicherheit f√ºr HTML onClick)
    window.navigate = navigate;
    window.setFilter = setFilter;
    window.loginAdmin = loginAdmin;
    window.logoutAdmin = logoutAdmin;
    window.showAdminTab = showAdminTab;
    window.addLeaderboardEntry = addLeaderboardEntry;
    window.removeLeaderboardEntry = removeLeaderboardEntry;
    window.saveLeaderboard = saveLeaderboard;
    window.addCasinoEntry = addCasinoEntry;
    window.removeCasinoEntry = removeCasinoEntry;
    window.saveCasinos = saveCasinos;
    window.denyAccess = denyAccess;
    window.handleLogoUpload = handleLogoUpload;
    window.finalizeCasinoEntry = finalizeCasinoEntry;
</script>

<script>
            /**
             * Kopiert den Text eines Elements anhand seiner ID in die Zwischenablage.
             * @param {string} elementId Die ID des HTML-Elements, dessen Text kopiert werden soll.
             */
            function copyCode(elementId) {
                const element = document.getElementById(elementId);
                if (element) {
                    const codeToCopy = element.textContent || element.innerText;
                    
                    // Verwenden der modernen Clipboard API
                    navigator.clipboard.writeText(codeToCopy)
                        .then(() => {
                            // Optional: Kurzes Feedback an den Benutzer
                            alert("Bonus-Code kopiert: " + codeToCopy); 
                        })
                        .catch(err => {
                            console.error('Kopieren fehlgeschlagen: ', err);
                        });
                }
            }
        </script>
        </body>
</html>

</body>
</html>
